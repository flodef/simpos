<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="Chrome">
        <div class="pos-receipt-print">
            <!-- here go the receipts that will be printed -->
        </div>

        <div class="pos">
            <div class="pos-topheader">
                <div class="pos-branding">
                    <img class="pos-logo" src="/simpos/static/src/img/logo.png" />
                </div>
                <div class="order-tabs">
                    <span class="placeholder-OrderSelectorWidget"></span>
                </div>
                <div class="pos-rightheader">
                    <span class="placeholder-UsernameWidget"></span>
                </div>
            </div>
            <div class="pos-content">
                <div class='screens'>
                    <!-- here go the screens -->
                </div>
                <div class="placeholder-OnscreenKeyboardWidget"></div>
            </div>

            <div class='popups'>
                <!-- here go the popups -->
            </div>

            <div class="loader">
                <div class='loader-feedback oe_hidden'>
                    <div class='progressbar'>
                        <div class='progress' width='50%'></div>
                    </div>
                    <div class='oe_hidden button skip'>
                        Skip
                    </div>
                </div>
            </div>
        </div>
    </t>
    <t t-name="UsernameWidget">
        <div class="username">
            <t t-esc="widget.get_name()" />
        </div>
    </t>
    <t t-name="ProductScreenWidget">
        <div class="product-screen screen row no-gutters">
            <div class="main col-8 col-sm-6 col-md-8 col-xl-8">
                <span class="placeholder-ProductCategoriesWidget" />
                <span class="placeholder-ProductListWidget" />
            </div>
            <div class="sidebar col-4 col-sm-6 col-md-4 col-xl-4">
                <div class="placeholder-CustomerWidget"></div>
                <div class="placeholder-OrderWidget"></div>
                <div class="placeholder-NumpadWidget"></div>
                <div class="control-buttons oe_hidden"></div>
                <div class="placeholder-PaymentWidget"></div>
            </div>
        </div>
    </t>

    <t t-name="PaymentWidget">
        <div class="payment-hook">
            <button class="button pay">
                Payment
            </button>
        </div>
    </t>
    <t t-name="CustomerWidget">
        <div class="customer-hook">
            <button t-attf-class='button set-customer #{ ( widget.pos.get_client() and widget.pos.get_client().name.length > 10) ? "decentered" : "" }' >
                <t t-if="widget.pos.get_client()">
                    <t t-esc="widget.pos.get_client().name" />
                </t>
                <t t-if="!widget.pos.get_client()">
                    Choose Customer
                </t>
                <i class='fa fa-user' role="img" aria-label="Customer" title="Customer"/>
            </button>
        </div>
    </t>

    <t t-name="OrderSelectorWidget">
        <div class="order-selector">
            <span class="orders touch-scrollable">
                <t t-foreach="widget.pos.get_order_list()" t-as="order">
                    <span t-attf-class="order-button select-order {{ order === widget.pos.get_order() ? 'selected' : '' }}" t-att-data-uid="order.uid">
                        <span class="order-sequence">
                            #<t t-esc='order.sequence_number' />
                        </span>
                        <span class="order-time">
                            <t t-esc="moment(order.creation_date).format('hh:mm')"/>
                        </span>
                        <span t-if="order === widget.pos.get_order()" class="deleteorder-button">
                            <i class='fa fa-times' role="img" aria-label="Delete order" title="Delete order"/>
                        </span>
                    </span>
                </t>
            </span>
            <span class="neworder-button">
                <i class='fa fa-plus' role="img" aria-label="New order" title="New order"/>
            </span>
        </div>
    </t>

    <t t-name="ProductCategoriesWidget">
        <div class="main-header">
        <header class="rightpane-header">
            <div class="root-category-list">
                <span class="category-simple-button js-category-switch" data-category-id="0">
                    Tất cả
                </span>
            <t t-foreach="widget.rootcategories" t-as="category">
                <span class="category-simple-button js-category-switch" t-att-data-category-id="category.id">
                    <t t-esc='category.name' />
                </span>
            </t>
            </div>
            <t t-if="widget.subcategories.length > 0 and widget.category.id != 0">
                <div class="category-list"></div>
            </t>
        </header>

        <div class="product-header">
            <div class="title">
                <i class="fa fa-list-ul" />
                <span>List of products</span>
            </div>
            <div class="searchbox">
                <input placeholder="Search Products" />
                <span class="search-icon">
                    <i class="fa fa-search" />
                </span>
                <span class="search-clear"></span>
            </div>
        </div>
        </div>
    </t>

    <t t-name="ProductListWidget">
        <div class='product-list-container'>
            <t t-if="widget.product_list.length != 0">
                <div class="product-list row no-gutters">
                </div>
            </t>
            <t t-else="">
                <div class="product-list-empty">
                    <t t-if="widget.product_list.length == 0 &amp;&amp; !!widget.search_word">
                        <p>No results found for "<b t-esc="widget.search_word"></b>".</p>
                    </t>
                    <t t-else="">
                        <p>There are no products in this category.</p>
                    </t>
                </div>
            </t>
            <span class="placeholder-ScrollbarWidget" />
        </div>
    </t>

    <t t-name="Product">
        <div class="button product col-12 col-sm-6 col-md-4 col-lg-3 col-xl-3" t-att-data-product-id="product.id" tabindex="0" t-attf-aria-labelledby="article_product_#{product.id}">
            <div class="product-img">
                <div class="product-img-wrapper">
                    <img t-att-src='image_url' alt="Product image"/>
                </div>
            </div>
            <div class="product-info" t-attf-id="article_product_#{product.id}">
                <div>
                    <h5 class="name">
                        <t t-esc="product.display_name"/>
                    </h5>
                    <t t-if="product.default_code">
                        <h6 class="default-code">
                            <t t-esc="product.default_code"/>
                        </h6>
                    </t>

                </div>
                <t t-if="!product.to_weight">
                    <span class="price-tag">
                        <t t-esc="widget.format_currency(product.get_price(pricelist, 1),'Product Price')"/>
                    </span>
                </t>
                <t t-if="product.to_weight">
                    <span class="price-tag">
                        <t t-esc="widget.format_currency(product.get_price(pricelist, 1),'Product Price')+'/'+widget.pos.units_by_id[product.uom_id[0]].name"/>
                    </span>
                </t>
            </div>
        </div>
    </t>
    <t t-name="OrderWidget">
        <div class="order-container">
            <div class="order">
                <t t-if="orderlines.length === 0" >
                    <div class="order-empty text-center">
                        <i class='fa fa-shopping-cart fa-4x' role="img" aria-label="Shopping cart" title="Shopping cart"/>
                        <h5>No order item to checkout</h5>
                    </div>
                </t>
                <t t-if="orderlines.length > 0">
                    <ul class="orderlines"></ul>
                    <div class="summary clearfix">
                        <div class="line">
                            <div class="total_items">
                                <span class="badge">Total items</span>
                                <span class="value">0</span>
                            </div>
                            <div class="total">
                                <span class="badge">Total</span>
                                <span class="value">0.00 €</span>
                            </div>
                        </div>
                    </div>
                </t>
            </div>
        </div>
    </t>
    <t t-name="Orderline">
        <li t-attf-class="orderline #{ line.selected ? 'selected' : '' }">
            <div class="product">
                <div class="product-info">
                    <t t-esc="line.get_product().display_name"/>
                    <t t-if="line.get_product().tracking!=='none'">
                        <i class="oe_link_icon fa fa-list oe_icon line-lot-icon oe_green" t-if="line.has_valid_product_lot()"
                        aria-label="Valid product lot" role="img" title="Valid product lot"/>
                        <i class="oe_link_icon fa fa-list oe_icon line-lot-icon oe_red" t-if="!line.has_valid_product_lot()"
                        aria-label="Invalid product lot" role="img" title="Invalid product lot"/>
                    </t>
                    <div class="price-control">
                        <div class="price-unit">
                            <t t-if="line.display_discount_policy() == 'without_discount' &amp;&amp;
                                line.get_unit_display_price() != line.get_lst_price()">
                                <s>
                                    <t t-esc="widget.format_currency(line.get_fixed_lst_price(),'Product Price')" />
                                </s>
                                <t t-esc="widget.format_currency(line.get_unit_display_price(),'Product Price')" />
                            </t>
                            <t t-else="">
                                <t t-esc="widget.format_currency(line.get_unit_display_price(),'Product Price')" />
                            </t>
                        </div>
                        <div class="discount" t-if="line.get_discount_str() !== '0'">
                            <t t-esc="line.get_discount_str()" />% discount
                        </div>
                    </div>
                </div>
                <div class="quantity">
                    <t t-if="line.get_unit().id == 1">x</t><t t-esc="line.get_quantity_str()" />
                    <t t-if="line.get_unit().id !== 1">
                        <t t-esc="line.get_unit().name" />
                    </t>
                </div>
                <div class="amount">
                    <t t-esc="widget.format_currency(line.get_display_price())"/>
                </div>
            </div>
            <div t-if="line.get_note()">
                <t t-esc="line.get_note()" />
            </div>
        </li>
    </t>
    <t t-name="NumpadWidget">
        <div class="numpad">
            <div class="button-wrapper"><button class="button input-button number-char">8</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">7</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">9</button></div>
            <div class="button-wrapper mode">
                <button class="mode-button" data-mode='quantity'>
                    <i class="fa fa-plus-square-o" />
                    <span>Quantity</span>
                </button>
            </div>
            <div class="button-wrapper"><button class="button input-button number-char">4</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">5</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">6</button></div>
            <div class="button-wrapper mode">
                <button class="mode-button" data-mode='discount'>
                    <i class="fa fa-gift" />
                    <span>Discount</span>
                </button>
            </div>
            <div class="button-wrapper"><button class="button input-button number-char">1</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">2</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">3</button></div>
            <div class="button-wrapper mode">
                <button class="mode-button" data-mode='remove_order_line'>
                    <i class="fa fa-trash" />
                    <span>Remove</span>
                </button>
            </div>
            <div class="button-wrapper"><button class="button input-button numpad-minus" >+/-</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">0</button></div>
            <div class="button-wrapper"><button class="button input-button number-char">.</button></div>
            <div class="button-wrapper mode"><button class="button input-button numpad-backspace">
                <i class="fa fa-long-arrow-left"></i>
            </button>
            </div>
        </div>
    </t>
</templates>
